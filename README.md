# Tarkov Build Optimiser

A Next.js web application for visualising Escape from Tarkov weapon builds generated by [tarkov-build-optimiser](https://github.com/sjtw/tarkov-build-optimiser-ui).




## Getting Started

### Prerequisites

- Node.js 18.x or later
- npm, yarn, pnpm, or bun
- **Tarkov Build Optimizer Backend** - This frontend requires a backend API service for build calculations

### Backend Dependency

This application requires a running instance of the Tarkov Build Optimizer backend API. The backend performs the weapon build optimization calculations.

- **Default URL**: `http://localhost:8080`
- **Required Endpoint**: `/api/items/weapons/{itemId}/calculate`

Configure the backend URL using environment variables (see below).

### Environment Setup

1. Create a `.env.local` file in the project root:

```bash
touch .env.local
```

2. Configure your environment variables in `.env.local`:

```env
# Optimizer Backend API (Required)
OPTIMISER_API_URL=http://localhost:8080

```


### Development

1. **Install dependencies**:

```bash
npm install
# or
yarn install
# or
pnpm install
```

2. **Download Tarkov item images** (optional, but recommended):

```bash
npm run collect-images
```

This script downloads all item and trader images from the Tarkov.dev API and saves them to `public/images/tarkov/`. Images are automatically fetched during Docker builds.

3. **Start the development server**:

```bash
npm run dev
# or
yarn dev
# or
pnpm dev
# or
bun dev
```

The development server uses Turbopack for faster builds and hot module replacement.

4. Open [http://localhost:3000](http://localhost:3000) to view the application.

The page auto-updates as you edit files.

### Debug Mode

Run the development server with Node.js inspector enabled:

```bash
npm run debug
```

### Available Scripts

- `npm run dev` - Start development server with Turbopack
- `npm run debug` - Start development server with Node.js inspector
- `npm run build` - Build for production
- `npm start` - Start production server
- `npm run lint` - Run ESLint
- `npm run collect-images` - Download item images from Tarkov.dev API

### Building for Production

**Option 1: Local Build**

```bash
npm run build
npm run start
```

**Option 2: Docker Build**

Build and run using Docker Compose:

```bash
# Optionally create a .env file to customize settings
echo "OPTIMISER_API_URL=http://your-backend:8080" > .env
echo "PORT=3000" >> .env  # Optional: change host port (container always uses 3000)

docker-compose up --build
```

Or build the Docker image directly:

```bash
docker build -t tarkov-build-optimiser .
docker run -p 3000:3000 \
  -e OPTIMISER_API_URL=http://your-backend-url:8080 \
  tarkov-build-optimiser
```

**Note**: The `PORT` environment variable in docker-compose controls which port is exposed on your **host machine**. The container always listens on port 3000 internally.

## Key Technologies

- **[Next.js 15](https://nextjs.org/docs)** - React framework with App Router and Turbopack
- **[React 19 RC](https://react.dev/)** - UI library with Server Components and modern hooks
- **[TypeScript 5](https://www.typescriptlang.org/)** - Type-safe JavaScript with strict mode
- **[Tailwind CSS 3](https://tailwindcss.com/)** - Utility-first CSS framework
- **[Tarkov.dev GraphQL API](https://tarkov.dev/)** - Tarkov game data and item images
- **[Docker](https://www.docker.com/)** - Containerization for consistent deployments

## License

MIT
